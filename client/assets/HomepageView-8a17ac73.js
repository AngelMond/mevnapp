import{a as E,M as j}from"./ModalComponent-bda38a73.js";import{_ as b,r as o,o as d,c as u,a as e,w as t,b as a,d as x,e as i,f as M}from"./index-fea0a654.js";async function q(c){try{return await E("/users/signup",{method:"post",data:c})}catch(s){return{error:s,serverMessage:"Server not available",isServerAvailable:!1}}}const F={components:{ModalComponent:j},data(){return{username:"",password:"",overlay:!1,isSignupSuccessful:!1,hasExistingUser:!1,isErrorServer:!1,dialogVisible:!1,modalTitle:"Signup successful",modalBody:"Server not available"}},methods:{async submitForm(c){try{c.preventDefault();const s={username:this.username,password:this.password};this.overlay=!0;const r=await q(s);if(this.overlay=!1,r.isServerAvailable===!1){this.modalBody=r.serverMessage,this.isErrorServer=!0;return}if(r.data.isSuccessful){this.isSignupSuccessful=!0,this.dialogVisible=!0;return}if(r.data.data.isSuccessful===!1){this.modalBody=r.data.data.message,this.hasExistingUser=!0;return}}catch(s){console.error(s)}},closeDialog(){this.dialogVisible=!1,this.$router.push("/login")}}},G={class:"mt-100"},N=a("h1",{class:"text-center text-my-red"},"Welcome",-1),A=a("p",{class:"text-center text-grey"},"Sign up if you dont have any account",-1),D={key:0,class:"text-red"},L={class:"text-center text-primary"},P=a("h2",{class:"text-h4 font-weight-black text-orange"},"Congratulations!",-1),z=a("div",{class:"text-h5 font-weight-medium mb-2"}," You are officially a part of the Keyence Community! ",-1),H=a("p",{class:"text-body-2 mb-4"}," Please head over to your inbox/spam or others folder to find our verificaiton email. ",-1),K={class:"text-body-2 mb-4"};function W(c,s,r,k,n,_){const m=o("v-progress-circular"),p=o("v-overlay"),f=o("v-col"),v=o("v-row"),y=o("v-text-field"),g=o("v-btn"),S=o("v-card-text"),h=o("v-card"),w=o("v-container"),V=o("router-link"),C=o("quote"),U=o("v-sheet"),T=o("v-dialog"),B=o("ModalComponent");return d(),u("section",G,[e(p,{"model-value":n.overlay,class:"align-center justify-center",persistent:""},{default:t(()=>[e(m,{color:"red-darken-2",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),e(v,{justify:"center"},{default:t(()=>[e(f,{cols:"10",sm:"8",md:"6",lg:"3",xl:"3"},{default:t(()=>[e(h,{class:"rounded-lg pa-3"},{default:t(()=>[e(v,{justify:"center"},{default:t(()=>[e(f,{cols:"12",class:"justify-center"},{default:t(()=>[N]),_:1}),e(f,{cols:"10"},{default:t(()=>[A]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(h,{class:""},{default:t(()=>[e(S,null,{default:t(()=>[a("form",{onSubmit:s[2]||(s[2]=(...l)=>_.submitForm&&_.submitForm(...l))},[e(y,{modelValue:n.username,"onUpdate:modelValue":s[0]||(s[0]=l=>n.username=l),label:"Username",required:""},null,8,["modelValue"]),e(y,{modelValue:n.password,"onUpdate:modelValue":s[1]||(s[1]=l=>n.password=l),label:"Password",required:"",type:"password"},null,8,["modelValue"]),n.hasExistingUser?(d(),u("p",D,"User already exists")):x("",!0),e(v,{class:"justify-center pe-3 py-2 mt-2"},{default:t(()=>[e(g,{class:"btn",type:"submit"},{default:t(()=>[i("Continue")]),_:1})]),_:1})],32)]),_:1})]),_:1})]),_:1}),a("p",L,[i("Already have an account? "),a("span",null,[e(V,{to:"/login","active-class":"active",style:{"text-decoration":"underline"},class:"text-grey-darken-1 text-hover-red"},{default:t(()=>[i(" Log in ")]),_:1})])])]),_:1})]),_:1})]),_:1}),e(T,{modelValue:n.dialogVisible,"onUpdate:modelValue":s[3]||(s[3]=l=>n.dialogVisible=l),"max-width":"500px",persistent:""},{default:t(()=>[e(h,null,{default:t(()=>[e(U,{class:"d-flex align-center justify-center flex-wrap text-center mx-auto px-4",elevation:"4",height:"250",rounded:"","max-width":"800",width:"100%"},{default:t(()=>[a("div",null,[P,z,H,a("p",K,[e(C,{class:"quote",style:{"font-style":"italic"}},{default:t(()=>[i("-This is just an example")]),_:1})]),e(g,{onClick:_.closeDialog,variant:"text",color:"orange"},{default:t(()=>[i("Go to Login")]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n.isErrorServer||n.hasExistingUser?(d(),M(B,{key:0,"modal-title":"System message","modal-body":n.modalBody},null,8,["modal-body"])):x("",!0)])}const Y=b(F,[["render",W]]),I={components:{Signup:Y},mounted(){this.handleGetToken()},data(){return{isSessionToken:!1}},methods:{handleGetToken(){window.sessionStorage.token?this.isSessionToken=!0:this.isSessionToken=!1}}},J={class:"main-content-home"},O={key:0},Q={key:1,class:"mt-14"},R={class:"py-3 text-center text-grey-darken-1"};function X(c,s,r,k,n,_){const m=o("Signup"),p=o("router-link");return d(),u("main",J,[n.isSessionToken?(d(),u("div",Q,[a("h3",R,[i(" Upload a file "),e(p,{"active-class":"active",class:"text-decoration-underline text-red-darken-2",to:"/readFile"},{default:t(()=>[i(" here! ")]),_:1})])])):(d(),u("div",O,[e(m)]))])}const ee=b(I,[["render",X]]);export{ee as default};
